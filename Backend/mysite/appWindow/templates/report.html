<!DOCTYPE html>
{% load staticfiles %}

<style>
  {% block style %}
    .row
    {
      align:center;
    }


  .nav .nav-sidebar > li > a
  {
  color:yellow;

  }

  .child {
    display: none;
    padding-left:50px;
    color: #333;
    margin-bottom:20px;
}



.expand {
    cursor:pointer;
    vertical-align:top
}

  {% endblock %}
</style>


<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'img/favicon.ico' %}">

    <title>xCalibur | Reports</title>


    <!-- Bootstrap core CSS -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/chart.css' %}" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="{% static 'css/navbar-fixed-top.css' %}" rel="stylesheet">
        <link href="{% static 'css/dashboard.css' %}" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!--<script src="../../assets/js/ie-emulation-modes-warning.js"></script>-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
    <![endif]-->

        <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
  </head>


<body>

    <!-- Static navbar -->
    {% include 'navbar.html'%}

<div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="" style="background-color:#20C05C;"><a href="#" style="color:#FFFFFF;">Overview <span class="sr-only">(current)</span></a></li>
          </ul>
        </div>

        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <div class="table-responsive">
          <h2 class="sub-header">Application Information</h2>
            <table class="table table-striped">
              <tbody>
                <tr>
                  <td>File Name:</td>
                  <td> {{ data.apk_file.file_name.0 }} </td>
                </tr>
                <tr>
                  <td>Package Name:</td>
                  <td>{{ data.application_information.package_name.0 }}</td>
                </tr>
                <tr>
                  <td>Application Version:</td>
                  <td>{{ data.application_information.application_version.0 }}</td>
                </tr>
              </tbody>
            </table>


  <h1 style="">Permissions Chart</h1>
    <main>

  <div>
  <section>
    <div class="pieID pie">
      
    </div>
    <ul class="pieID legend">
      <li>
        <a href="{% url 'grouppermissions' %}"><em >SigOrSys</em></a>
        <span>{{ donut_list.0|length }}</span>
      </li>
      <li>
        <a href="{% url 'grouppermissions' %}"><em>System</em></a>
        <span>{{ donut_list.1|length }}</span>
      </li>
      <li>
        <a href="{% url 'grouppermissions' %}"><em>Dev</em></a>
        <span>{{ donut_list.2|length }}</span>
      </li>
      <li>
        <a href="{% url 'grouppermissions' %}"><em>Normal</em></a>
        <span>{{ donut_list.3|length }}</span>
      </li>
      <li>
        <a href="{% url 'grouppermissions' %}"><em>Dangerous</em></a>
        <span>{{ donut_list.4|length }}</span>
      </li>
      <li>
        <a href="{% url 'grouppermissions' %}"><em>Signature</em></a>
        <span>{{ donut_list.5|length }}</span>
      </li>
<!--       <li>
        <em>Signature</em>
        <span>10</span>
      </li> -->
    </ul>
  </section>
</div>

 <div style="float:right;display:none;" id="AlsoSpecial" >
    <p>Hello from the other side</p>
 </div> 



</main>

          <h2 class="sub-header">Permissions</h2>
           <table class="table table-striped">
              <tbody>
              <tr>
                <td class="expand" style="">[+]</td>
                <td> <button class="btn btn-success" type="button" style="width:125px;"> Normal <span class="badge">{{ donut_list.3|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.3 %}
                  <tr>
                    <td><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              <tr>
                <td class="expand">[+]</td>
                <td> <button class="btn btn-danger" type="button" style="width:125px;"> Dangerous <span class="badge">{{ donut_list.4|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.4 %}
                  <tr>
                    <td><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              <tr>
                <td class="expand">[+]</td>
                <td> <button class="btn btn-primary" type="button" style="width:125px;"> Signature <span class="badge">{{ donut_list.5|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.5 %}
                  <tr>
                    <td><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              <tr>
                <td class="expand">[+]</td>
                <td> <button class="btn btn-warning" type="button" style="width:125px;"> Dev <span class="badge">{{ donut_list.2|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.2 %}
                  <tr>
                    <td><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              <tr>
                <td class="expand">[+]</td>
                <td> <button class="btn btn-info" type="button" style="width:125px;"> System <span class="badge">{{ donut_list.1|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.1 %}
                  <tr>
                    <td ><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              <tr>
                <td class="expand">[+]</td>
                <td> <button class="btn btn-default" type="button" style="width:125px;"> SigOrSys <span class="badge">{{ donut_list.0|length }}</span></button>
                  <table class = "child">
                  {% for item in donut_list.0 %}
                  <tr>
                    <td><br/> {{ item }} </td>
                  </tr>
                  {% endfor %}

                  </table>
                </td>
              </tr>
              </tbody>
            </table>

          <h2 class="sub-header">Analysis Results</h2>
            <table class="table table-striped">
              <tbody>
                {% for key, value in data.analysis_results.items %}
                  {% for item in value %}
                      <tr>
                        <td> {{ item }} </td>
                      </tr>
                  {% endfor %}
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>







<!--     {{ donut_dict }} -->

     <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

    <script src="{% static 'js/chart.js' %}"></script>
    <script>
    $('.expand').click(function() {
    var $td = $(this);
    
    if ($td.text() == '[+]') {
        $td.text('[-]');
        $td.next().children('table').show()
    } else {
        $td.text('[+]');
        $td.next().children('table').hide()
    }  
    })
    </script>


</body>
</html>



    